<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/mesa2022_hmxb/libs/katex/katex.min.css"> <link rel=stylesheet  href="/mesa2022_hmxb/libs/highlight/github.min.css"> <link rel=stylesheet  href="/mesa2022_hmxb/css/franklin.css"> <link rel=stylesheet  href="/mesa2022_hmxb/css/poole_hyde.css"> <link rel=stylesheet  href="/mesa2022_hmxb/css/extras.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/mesa2022_hmxb/assets/favicon.png"> <title>Maxilab: Formation of GW sources through Roche lobe overflow</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h2><a href="/mesa2022_hmxb/">Mass transfer in HMXBs with MESA</a></h2> <img src="/mesa2022_hmxb/assets/PobreEstrella.png"/> <p class=lead ></p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/mesa2022_hmxb/">Home</a> <a class="sidebar-nav-item " href="/mesa2022_hmxb/minilab1/"><span style="color:brown">Minilab 1:</span> Mass transfer prescriptions in MESA</a> <a class="sidebar-nav-item " href="/mesa2022_hmxb/minilab2/"><span style="color:brown">Minilab 2:</span> Future evolution of HMXBs</a> <a class="sidebar-nav-item active" href="/mesa2022_hmxb/maxilab/"><span style="color:brown">Maxilab</span>: Formation of GW sources through RLOF</a> </nav> <p>&copy; Pablo Marchant.</p> </div> </div> <div class="content container"> <div class=franklin-content > <h1 id=maxilab_formation_of_gw_sources_through_roche_lobe_overflow ><a href="#maxilab_formation_of_gw_sources_through_roche_lobe_overflow" class=header-anchor >Maxilab: Formation of GW sources through Roche lobe overflow</a></h1> <div class=franklin-toc ><ol><li><a href="#orbital_shrinkage_from_mass_transfer">Orbital shrinkage from mass transfer</a><li><a href="#save_a_post-main_sequence_model">Save a post-main sequence model</a><li><a href="#setup_our_template_for_a_grid">Setup our template for a grid</a><li><a href="#lets_fill_the_grid">Let&#39;s fill the grid&#33;</a><li><a href="#extra_work">Extra work</a></ol></div> <h2 id=orbital_shrinkage_from_mass_transfer ><a href="#orbital_shrinkage_from_mass_transfer" class=header-anchor >Orbital shrinkage from mass transfer</a></h2> <p>Under the assumption that mass transfer is extremely inefficient and lost material takes away the specific orbital angular momentum of the accretor, the evolution of the orbital separation <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi mathvariant=normal >f</mi></msub></mrow><annotation encoding="application/x-tex">a_\mathrm{f}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5806em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> can be analitically described in terms of the final mass ratio <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi mathvariant=normal >f</mi></msub><mo>≡</mo><msub><mi>m</mi><mrow><mi mathvariant=normal >d</mi><mi mathvariant=normal >o</mi><mi mathvariant=normal >n</mi><mi mathvariant=normal >o</mi><mi mathvariant=normal >r</mi></mrow></msub><mi mathvariant=normal >/</mi><msub><mi>m</mi><mrow><mi mathvariant=normal >a</mi><mi mathvariant=normal >c</mi><mi mathvariant=normal >c</mi><mi mathvariant=normal >r</mi><mi mathvariant=normal >e</mi><mi mathvariant=normal >t</mi><mi mathvariant=normal >o</mi><mi mathvariant=normal >r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">q_\mathrm{f}\equiv m_\mathrm{donor}/m_\mathrm{accretor}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6582em;vertical-align:-0.1944em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >≡</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">donor</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord >/</span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">accretor</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and an initial separation <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_{i}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5806em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> at which the system had a mass ratio <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi mathvariant=normal >i</mi></msub></mrow><annotation encoding="application/x-tex">q_\mathrm{i}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.</p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mfrac><msub><mi>a</mi><mi mathvariant=normal >f</mi></msub><msub><mi>a</mi><mi mathvariant=normal >i</mi></msub></mfrac><mo>=</mo><msup><mrow><mo fence=true >(</mo><mfrac><msub><mi>q</mi><mi mathvariant=normal >i</mi></msub><msub><mi>q</mi><mi mathvariant=normal >f</mi></msub></mfrac><mo fence=true >)</mo></mrow><mn>2</mn></msup><mrow><mo fence=true >(</mo><mfrac><mrow><mn>1</mn><mo>+</mo><msub><mi>q</mi><mi mathvariant=normal >i</mi></msub></mrow><mrow><mn>1</mn><mo>+</mo><msub><mi>q</mi><mi mathvariant=normal >f</mi></msub></mrow></mfrac><mo fence=true >)</mo></mrow><mi>exp</mi><mo>⁡</mo><mrow><mo fence=true >(</mo><mn>2</mn><mo stretchy=false >[</mo><msub><mi>q</mi><mi mathvariant=normal >f</mi></msub><mo>−</mo><msub><mi>q</mi><mi mathvariant=normal >i</mi></msub><mo stretchy=false >]</mo><mo fence=true >)</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{a_\mathrm{f}}{a_\mathrm{i}}=\left(\frac{q_\mathrm{i}}{q_\mathrm{f}}\right)^2\left(\frac{1+q_\mathrm{i}}{1+q_\mathrm{f}}\right)\exp\left(2[q_\mathrm{f}-q_\mathrm{i}]\right)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.9436em;vertical-align:-0.836em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.1076em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3175em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.604em;vertical-align:-0.95em;"></span><span class=minner ><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.1076em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:1.654em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.3214em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >1</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >1</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mop >exp</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;">(</span><span class=mord >2</span><span class=mopen >[</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3175em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >]</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span> <p>The initial and final points needs not refer to that at the onset or end of the mass transfer phase, they can also be any arbitrary point during the process. From that we can make estimate how much the orbital separation would change respect to the initial one in terms of the accretor mass and the mass of the companion: </p> <figure style="text-align:center;"> <img src="/mesa2022_hmxb/assets/maxilab/code/output/shrinkage.svg" style="padding:0; width:100%;border: 1px solid gray;" alt=" Expected evolution of the orbital separation in terms of initial separation for a $30M_\odot$ donor star being stripped by a companion through fully non-conservative mass transfer (assuming isotropic re-emission from the accretor). Each line is for a different accretor mass."/> <figcaption> Expected evolution of the orbital separation in terms of initial separation for a <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><msub><mi>M</mi><mo>⊙</mo></msub></mrow><annotation encoding="application/x-tex">30M_\odot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8917em;vertical-align:-0.2083em;"></span><span class=mord >30</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">⊙</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span> donor star being stripped by a companion through fully non-conservative mass transfer &#40;assuming isotropic re-emission from the accretor&#41;. Each line is for a different accretor mass.</figcaption> </figure> <p>So if mass transfer can proceed stably for extreme mass ratios, we could potentially get an extreme reduction in orbital separation&#33; This is particularly interesting in the context of gravitational wave sources, where the time for two point masses to merge depends strongly on the orbital separation. In particular, for a circular orbit the merger time is given by </p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><msub><mi>t</mi><mrow><mi mathvariant=normal >m</mi><mi mathvariant=normal >e</mi><mi mathvariant=normal >r</mi><mi mathvariant=normal >g</mi><mi mathvariant=normal >e</mi><mi mathvariant=normal >r</mi></mrow></msub><mo>=</mo><mfrac><msup><mi>a</mi><mn>4</mn></msup><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo separator=true >,</mo><mspace width=2em /><mi>B</mi><mo>≡</mo><mfrac><mrow><mn>64</mn><msup><mi>G</mi><mn>3</mn></msup></mrow><mrow><mn>5</mn><msup><mi>c</mi><mn>5</mn></msup></mrow></mfrac><mo stretchy=false >(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>+</mo><msub><mi>M</mi><mn>2</mn></msub><mo stretchy=false >)</mo><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>2</mn></msub><mi mathvariant=normal >.</mi></mrow><annotation encoding="application/x-tex">t_\mathrm{merger}=\frac{a^4}{4B},\qquad B\equiv \frac{64G^3}{5c^5}(M_1+M_2)M_1M_2.</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.9012em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal">t</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">merger</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.1771em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.4911em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >4</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord ><span class="mord mathnormal">a</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mpunct >,</span><span class=mspace  style="margin-right:2em;"></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >≡</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.1771em;vertical-align:-0.686em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.4911em;"><span style="top:-2.314em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >5</span><span class=mord ><span class="mord mathnormal">c</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class=pstrut  style="height:3em;"></span><span class=mord ><span class=mord >64</span><span class=mord ><span class="mord mathnormal">G</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord >.</span></span></span></span></span> <h2 id=save_a_post-main_sequence_model ><a href="#save_a_post-main_sequence_model" class=header-anchor >Save a post-main sequence model</a></h2> <div class=colbox-blue >Did you have issues finishing minilab2? You can get a working copy of its solution <a href="/mesa2022_hmxb/assets/maxilab/template_maxilab.tar.gz">here</a>.</div> <h2 id=setup_our_template_for_a_grid ><a href="#setup_our_template_for_a_grid" class=header-anchor >Setup our template for a grid</a></h2> <p>Now we will use the saved TAMS model to start up calculations from that point. When loading a saved model, the mass given in <code>m1</code> or <code>m2</code> &#40;depending on which model is loaded&#41; is ignored, and instead the mass of the saved model is used.</p> <div class=colbox-blue >If you could not create the saved model, you can download a work directory to produce it from <a href="/mesa2022_hmxb/assets/maxilab/create_postms.tar.gz">here</a>.</div> <p>Make a new copy of the solution to minilab2 &#40;or download the solution linked above&#41; and copy your saved TAMS file into it. For it to be actually used, include this in the <code>star_job</code> section of <code>inlist1</code>:</p> <pre><code class="fortran hljs">load_saved_model = .true.
load_model_filename = <span class=hljs-string >&#x27;TAMS_model.dat&#x27;</span></code></pre> <p>One inconvenience of using a saved model is that it will carry out its model number, so the model number of the star will not be 1 at the start &#40;and it will not match the model number in binary output&#41;. Also, the timestep from the saved model will be used in the initial step, which given our very relaxed timestep controls can lead to large overflow in a single step. To solvent these two problems, also add the following to <code>star_job</code> in <code>inlist1</code>:</p> <pre><code class="fortran hljs">set_initial_dt = .true.
years_for_initial_dt = <span class=hljs-number >1d2</span>
set_initial_model_number = .true.
initial_model_number = <span class=hljs-number >0</span></code></pre> <p>The binary module relies in redoing simulation steps with different mass transfer rates until it finds a solution. In case multiple redos happen in a row, a bogus terminating condition can be activated. To prevent this, include this in <code>controls</code> in <code>inlist1</code>:</p> <pre><code class="fortran hljs">redo_limit = -<span class=hljs-number >1</span></code></pre>
<p>Now, rather than modeling the system all the way to helium depletion, we will make some  big assumptions for its final state when a binary black hole can form. This will allow us to only model a fraction of its evolution which is useful to explore a large input parameter space.</p>
<ul>
<li><p>We will assume that after the donor reaches <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><msub><mi>M</mi><mo>⊙</mo></msub></mrow><annotation encoding="application/x-tex">20M_\odot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8917em;vertical-align:-0.2083em;"></span><span class=mord >20</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">⊙</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>, mass transfer will proceed succesfully until the star is stripped down to its helium core.</p>

<li><p>The final separation after mass transfer will be computed using Equation &#40;1&#41;.</p>

<li><p>We will assume that after stripping, mass loss is negligible and the star will form a black hole with no mass loss at all &#40;direct collapse while ignoring any neutrino losses&#41;. This means we also take the separation after mass transfer to be the separation when the binary black hole forms.</p>

</ul>
<h2 id=lets_fill_the_grid ><a href="#lets_fill_the_grid" class=header-anchor >Let&#39;s fill the grid&#33;</a></h2>
<p>Now that everything is ready, let&#39;s go ahead and start running simulations&#33; This is a group effort for all the participants, so we will need to coordinate a bit. We will fill the results of our simulations in <a href="https://docs.google.com/spreadsheets/d/1TeFzy5oa5dDhDGLv9ul2CUKIx2D5wmuQAwIsElC6T9Q/edit?usp&#61;sharing">this google spreadsheet.</a></p>

<figure style="text-align:center;">
<img src="/mesa2022_hmxb/assets/sheet.png" style="padding:0; width:200%;border: 1px solid gray;" alt=" Screenshot of the google sheet we will fill."/>
<figcaption> Screenshot of the google sheet we will fill.</figcaption>
</figure>

<div class=colbox-blue >If you are having problems setting up the template for the grid simulation, you can download it <a href="/mesa2022_hmxb/assets/maxilab/grid_template.tar.gz">here</a>.</div>
<p>The initial parameters we will vary are the initial period &#40;separated in equal intervals of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>P</mi></mrow><annotation encoding="application/x-tex">\log P</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8889em;vertical-align:-0.1944em;"></span><span class=mop >lo<span style="margin-right:0.01389em;">g</span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.1</mn></mrow><annotation encoding="application/x-tex">0.1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >0.1</span></span></span></span> dex&#41; and mass of the companion black hole &#40;covering between <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><msub><mi>M</mi><mo>⊙</mo></msub></mrow><annotation encoding="application/x-tex">3M_\odot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8917em;vertical-align:-0.2083em;"></span><span class=mord >3</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">⊙</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><msub><mi>M</mi><mo>⊙</mo></msub></mrow><annotation encoding="application/x-tex">6M_\odot</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8917em;vertical-align:-0.2083em;"></span><span class=mord >6</span><span class=mord ><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">⊙</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>&#41;. It is useful to repeat simulations to validate the results from others, but first start by trying to populate the grid and finding the boundaries between different outcomes. The potential outcomes we consider here are:</p>
<ul>
<li><p>Mass transfer is stable &#40;reaches <code>star_min_mass_limit</code>&#41; but the resulting binary black hole takes more than <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13.8</mn></mrow><annotation encoding="application/x-tex">13.8</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >13.8</span></span></span></span> Gyr to merge.</p>

<li><p>Mass transfer is stable &#40;reaches <code>star_min_mass_limit</code>&#41; but the resulting binary black hole takes less than <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13.8</mn></mrow><annotation encoding="application/x-tex">13.8</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >13.8</span></span></span></span> Gyr to merge. These are the ones we are looking for&#33;</p>

<li><p>System is unstable due to reaching the limit given by <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mo>×</mo><msub><mover accent=true ><mi>M</mi><mo>˙</mo></mover><mrow><mi mathvariant=normal >t</mi><mi mathvariant=normal >h</mi><mi mathvariant=normal >e</mi><mi mathvariant=normal >r</mi><mi mathvariant=normal >m</mi><mi mathvariant=normal >a</mi><mi mathvariant=normal >l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">100\times\dot{M}_\mathrm{thermal}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7278em;vertical-align:-0.0833em;"></span><span class=mord >100</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >×</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1.0702em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.9202em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span><span style="top:-3.2523em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.0556em;"><span class=mord >˙</span></span></span></span></span></span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">thermal</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.</p>

<li><p>System is unstable due to the donor expanding to a radius larger than the binary separation.</p>

<li><p>System does not interact &#40;orbit is too wide&#41;.</p>

<li><p>A numerical error happens &#40;cross our fingers that these are minimal&#41;.</p>

</ul>
<p>As the plot begins to take shape, discuss with your tablemates what different regions can be seen, and what is the reason for the different trends that appear.</p>
<h2 id=extra_work ><a href="#extra_work" class=header-anchor >Extra work</a></h2>
<p>And in case you&#39;re already saturated of filling out the simulation grid, how about removing the <code>star_mass_min_limit</code> terminating condition and repeating some of the runs that were marked as resulting in a merger. How close is the final system to the one with the approximations used?</p>
<div class=page-foot >
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Pablo Marchant. Last modified: August 08, 2022.
    Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
</div>
<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;
  
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    }
  </script></div>
    </div>